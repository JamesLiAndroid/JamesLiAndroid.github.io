<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="前端私服搭建及验证, Java Android Python DevOps JamesLiAndroid 小李 运维 ">
    <meta name="baidu-site-verification" content>
    <meta name="google-site-verification" content>
    <meta name="360-site-verification" content>
    <meta name="description" content="前端私服搭建准备工作环境准备：

镜像仓库：nexus 3.11
nodejs版本：10.16.0
yarn版本：1.22.4
npm版本：6.9.0

nexus3 仓库设置和用户设置仓库设置前端仓库创建如下：

npm-hosted: ">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>前端私服搭建及验证 | 时代与猫的脚步</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">时代与猫的脚步</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">时代与猫的脚步</div>
        <div class="logo-desc">
            
            山东理工大学 | 电子信息工程
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                留言板
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/JamesLiAndroid" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/JamesLiAndroid" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/16.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        前端私服搭建及验证
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        <span class="chip bg-color">无标签</span>
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-12-28
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    JamesLiAndroid
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    2.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    15 分
                </div>
                
                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="前端私服搭建"><a href="#前端私服搭建" class="headerlink" title="前端私服搭建"></a>前端私服搭建</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>环境准备：</p>
<ol>
<li>镜像仓库：nexus 3.11</li>
<li>nodejs版本：10.16.0</li>
<li>yarn版本：1.22.4</li>
<li>npm版本：6.9.0</li>
</ol>
<h2 id="nexus3-仓库设置和用户设置"><a href="#nexus3-仓库设置和用户设置" class="headerlink" title="nexus3 仓库设置和用户设置"></a>nexus3 仓库设置和用户设置</h2><h3 id="仓库设置"><a href="#仓库设置" class="headerlink" title="仓库设置"></a>仓库设置</h3><p>前端仓库创建如下：</p>
<ol>
<li>npm-hosted: 私有的仓库，存储自己开发的自定义组件。</li>
</ol>
<p><img src="npm-hosted.png" alt></p>
<ol start="2">
<li>npm-proxy：公共仓库代理，这里代理的是淘宝的<a href="http://registry.npm.taobao.org" target="_blank" rel="noopener">镜像仓库</a>。</li>
</ol>
<p><img src="npm-proxy.png" alt></p>
<ol start="3">
<li>npm-group：整合上述两个仓库信息，作为一个仓库对外使用。</li>
</ol>
<p><img src="npm-group.png" alt></p>
<p>使用管理员账户进行添加。添加完成后，下面需要添加角色和用户，并设置权限。</p>
<h3 id="用户设置"><a href="#用户设置" class="headerlink" title="用户设置"></a>用户设置</h3><p>首先，设置一个前端专属角色，添加npm的相关授权，基本信息如下：</p>
<p><img src="npm%E8%A7%92%E8%89%B2%E8%AE%BE%E7%BD%AE.png" alt></p>
<p>然后添加用户npm-user，在用户层面添加npm和nx的相关角色，保证推送数据的时候可以正常上传，基本信息如下：</p>
<p><img src="npm%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE.png" alt></p>
<p>其次，在Realms选项中，激活<em>npm Bearer Token Realm</em>，如下图：</p>
<p><img src="npm%E9%A2%86%E5%9F%9F%E7%99%BB%E5%BD%95.png" alt></p>
<p>最后，在匿名登录<em>Anonymous</em>部分配置，勾选<em>Allow anonymous users to access the server<br>*，然后username选择我们创建的npm-user用户，Realm选择</em>npm Bearer Token Realm*，最后保存即可。如下图：</p>
<p><img src="npm%E5%8C%BF%E5%90%8D%E7%99%BB%E5%BD%95.png" alt></p>
<p>全部设置完成后，基本信息如下：</p>
<ul>
<li>前端私服：<a href="http://192.168.123.202:8081/repository/npm-group/" target="_blank" rel="noopener">http://192.168.123.202:8081/repository/npm-group/</a></li>
<li>前端推送私服：<a href="http://192.168.123.202:8081/repository/npm-hosted/" target="_blank" rel="noopener">http://192.168.123.202:8081/repository/npm-hosted/</a></li>
<li>用户名密码：npm-user hoteam@2019</li>
<li>用户对应邮箱信息：<a href="mailto:lisongyang@hoteamsoft.com" target="_blank" rel="noopener">lisongyang@hoteamsoft.com</a></li>
</ul>
<h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><p>选择<a href="https://github.com/GoldSubmarine/workflow-bpmn-modeler.git" target="_blank" rel="noopener">workflow-bpmn-modeler</a>这个项目进行配置，先从github上拉取到本地，然后对package.json进行修改，如下：</p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ht-workflow-bpmn-modeler"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.2.52"</span><span class="token punctuation">,</span>

  ....

  <span class="token property">"publishConfig"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"registry"</span><span class="token operator">:</span> <span class="token string">"http://192.168.123.202:8081/repository/npm-hosted/"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  ...
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里主要是修改组件名称，修改发布时的仓库地址。</p>
<h3 id="npm设置"><a href="#npm设置" class="headerlink" title="npm设置"></a>npm设置</h3><p>首先设置yarn的远程仓库，变更为我们之前配置的私有仓库，如下：</p>
<pre class="line-numbers language-shell"><code class="language-shell">
// 如果存在已经设置的registry的参数，需要先进行删除
$ npm config delete registry
$ npm config set registry http://192.168.123.202:8081/repository/npm-group/
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这时候在对应的位置上（window中C:\Users\ht路径下）生成了<strong>.npmrc</strong>文件，内容如下：</p>
<pre class="line-numbers language-txt"><code class="language-txt">registry=http://192.168.123.202:8081/repository/npm-group/
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后登陆这个私服的信息，操作如下：</p>
<pre class="line-numbers language-shell"><code class="language-shell">
$ npm login
Username: npm-user
Password: (输入密码，不显示)
Email: (this IS public) lisongyang@hoteamsoft.com
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>操作完成后，<strong>.npmrc</strong>会产生变更，内容如下：</p>
<pre class="line-numbers language-shell"><code class="language-shell">
registry=http://192.168.123.202:8081/repository/npm-group/
//192.168.123.202:8081/repository/npm-group/:_authToken=NpmToken.fdf0237e-72e9-3e99-91fa-9f513958689b
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>最后需要对<strong>.npmrc</strong>文件配置，添加两个选项，最终结果如下：</p>
<pre class="line-numbers language-doc"><code class="language-doc">
registry=http://192.168.123.202:8081/repository/npm-group/
//192.168.123.202:8081/repository/npm-group/:_authToken=NpmToken.fdf0237e-72e9-3e99-91fa-9f513958689b
always-auth=true
strict-ssl=false
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>或者在命令行中进入如下设置：</p>
<pre class="line-numbers language-shell"><code class="language-shell">
npm config set always-auth true
npm config set strict-ssl false
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>设置完成后，进入npm测试。</p>
<h3 id="npm推送测试"><a href="#npm推送测试" class="headerlink" title="npm推送测试"></a>npm推送测试</h3><pre class="line-numbers language-shell"><code class="language-shell">
// 添加依赖信息
$ npm install 

// 测试前端运行
$ npm run serve

// 测试推送
$ npm publish
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="npm拉取测试"><a href="#npm拉取测试" class="headerlink" title="npm拉取测试"></a>npm拉取测试</h3><pre class="line-numbers language-shell"><code class="language-shell">
$ npm install ht-workflow-bpmn-modeler@0.2.52 --verbose
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="npm问题"><a href="#npm问题" class="headerlink" title="npm问题"></a>npm问题</h3><ol>
<li>错误信息：</li>
</ol>
<pre class="line-numbers language-log"><code class="language-log">npm ERR! code E401
npm ERR! Unable to authenticate, need: BASIC realm="Sonatype Nexus Repository Manager"

npm ERR! A complete log of this run can be found in:
npm ERR!     D:\dev\FrontEnd\nodejs\node_cache\_logs\2020-12-01T08_09_04_980Z-debug.log
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>解决方式：临时未确定，先使用yarn进行推送。</p>
<ol start="2">
<li>错误信息：</li>
</ol>
<pre><code>
npm ERR! code ECONNRESET
npm ERR! errno ECONNRESET
npm ERR! network request to http://192.168.123.202:8081/repository/npm-hosted/ht-workflow-bpmn-modeler failed, reason: read ECONNRESET
npm ERR! network This is a problem related to network connectivity.
npm ERR! network In most cases you are behind a proxy or have bad network settings.
npm ERR! network
npm ERR! network If you are behind a proxy, please make sure that the
npm ERR! network &#39;proxy&#39; config is set properly.  See: &#39;npm help config&#39;

npm ERR! A complete log of this run can be found in:
npm ERR!     D:\dev\FrontEnd\nodejs\node_cache\_logs\2020-12-01T08_27_31_872Z-debug.log
</code></pre><p>解决方式：临时未确定，先使用yarn进行推送。</p>
<h3 id="yarn设置"><a href="#yarn设置" class="headerlink" title="yarn设置"></a>yarn设置</h3><p>在yarn设置以前必须先对npm进行设置，否则会出现拉取不到的情况。</p>
<p>首先设置yarn的远程仓库，然后通过yarn登录镜像仓库，最后进行测试。</p>
<pre class="line-numbers language-shell"><code class="language-shell">
// 设置远程仓库
$ yarn config set registry http://192.168.123.202:8081/repository/npm-group/

// 登录远程仓库
$ yarn login 
yarn login v1.22.4
info npm username: npm-user
info npm email: lisongyang@hoteamsoft.com
Done in 0.06s.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>登录后，会在对应的位置上（window中C:\Users\ht路径下）生成了<strong>.yarnrc</strong>文件，内容如下：</p>
<pre class="line-numbers language-txt"><code class="language-txt">
registry "http://192.168.123.202:8081/repository/npm-group/"
email lisongyang@hoteamsoft.com
username npm-user
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>生成了以后。可以对项目进行测试。</p>
<h3 id="yarn推送测试"><a href="#yarn推送测试" class="headerlink" title="yarn推送测试"></a>yarn推送测试</h3><pre class="line-numbers language-shell"><code class="language-shell">
// 添加依赖信息
$ yarn install 

// 测试前端运行
$ yarn run serve

// 推送
$ yarn publish 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行结果如下：</p>
<pre class="line-numbers language-shell"><code class="language-shell">
$ yarn publish
yarn publish v1.22.4
[1/4] Bumping version...
info Current version: 0.2.54
question New version: 0.2.54
[2/4] Logging in...
info npm username: npm-user
info npm email: lisongyang@hoteamsoft.com
question npm password:
success Logged in.
[3/4] Publishing...
$ yarn build
yarn run v1.22.4
$ cross-env NODE_ENV=build vue-cli-service build --target lib --inline-vue --entry package/index.js

\  Building for production as library (commonjs,umd,umd-min)...

 DONE  Compiled successfully in 11895ms                                                                                                                                                                          4:39:33 PM



 DONE  Compiled successfully in 11922ms                                                                                                                                                                          4:39:33 PM



 DONE  Compiled successfully in 11955ms                                                                                                                                                                          4:39:33 PM

  File                                        Size                                                                                 Gzipped

  dist\ht-workflow-bpmn-modeler.umd.min.js    3012.16 KiB                                                                          525.86 KiB
  dist\ht-workflow-bpmn-modeler.umd.js        3012.16 KiB                                                                          525.86 KiB
  dist\ht-workflow-bpmn-modeler.common.js     3011.74 KiB                                                                          525.74 KiB

  Images and other types of assets omitted.

Done in 15.04s.
$ yarn lib && yarn cdn && yarn demo
yarn run v1.22.4
$ cross-env NODE_ENV=lib vue-cli-service build

-  Building for production...

 DONE  Compiled successfully in 7864ms                                                                                                                                                                           4:39:45 PM

  File                                     Size                                                                                   Gzipped

  docs\lib\0.2.54\js\chunk-libs.js         2825.71 KiB                                                                            525.03 KiB
  docs\lib\0.2.54\js\chunk-elementUI.js    1883.20 KiB                                                                            319.34 KiB
  docs\lib\0.2.54\js\app.js                403.72 KiB                                                                             33.41 KiB
  docs\lib\0.2.54\js\chunk-vue.js          240.43 KiB                                                                             65.09 KiB
  docs\lib\0.2.54\js\runtime.js            6.12 KiB                                                                               1.64 KiB

  Images and other types of assets omitted.

 DONE  Build complete. The docs\lib\0.2.54 directory is ready to be deployed.
 INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html

Done in 10.95s.
yarn run v1.22.4
$ cross-env NODE_ENV=cdn vue-cli-service build

/  Building for production...

 DONE  Compiled successfully in 7697ms                                                                                                                                                                           4:39:56 PM

  File                                     Size                                                                                   Gzipped

  docs\cdn\0.2.54\js\chunk-libs.js         2825.71 KiB                                                                            525.03 KiB
  docs\cdn\0.2.54\js\chunk-elementUI.js    1883.20 KiB                                                                            319.34 KiB
  docs\cdn\0.2.54\js\app.js                403.72 KiB                                                                             33.41 KiB
  docs\cdn\0.2.54\js\chunk-vue.js          240.43 KiB                                                                             65.09 KiB
  docs\cdn\0.2.54\js\runtime.js            6.20 KiB                                                                               1.70 KiB

  Images and other types of assets omitted.

 DONE  Build complete. The docs\cdn\0.2.54 directory is ready to be deployed.
 INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html

Done in 10.78s.
yarn run v1.22.4
$ cross-env NODE_ENV=demo vue-cli-service build

/  Building for production...

 DONE  Compiled successfully in 7510ms                                                                                                                                                                           4:40:07 PM

  File                               Size                                                                                      Gzipped

  docs\demo\js\chunk-libs.js         2825.71 KiB                                                                               525.03 KiB
  docs\demo\js\chunk-elementUI.js    1883.20 KiB                                                                               319.34 KiB
  docs\demo\js\app.js                404.26 KiB                                                                                33.55 KiB
  docs\demo\js\chunk-vue.js          240.44 KiB                                                                                65.09 KiB
  docs\demo\js\runtime.js            6.14 KiB                                                                                  1.66 KiB

  Images and other types of assets omitted.

 DONE  Build complete. The docs\demo directory is ready to be deployed.
 INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html

Done in 10.83s.
success Published.
[4/4] Revoking token...
success Revoked login token.
Done in 57.41s.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="yarn拉取测试"><a href="#yarn拉取测试" class="headerlink" title="yarn拉取测试"></a>yarn拉取测试</h3><p>在目标项目中，使用yarn进行拉取。在操作之前必须删除yarn.lock或者package-lock.json再进行操作：</p>
<pre class="line-numbers language-shell"><code class="language-shell">
$ yarn add ht-workflow-bpmn-modeler@0.2.54
yarn add v1.22.4
[1/4] Resolving packages...
[2/4] Fetching packages...
info fsevents@1.2.13: The platform "win32" is incompatible with this module.
info "fsevents@1.2.13" is an optional dependency and failed compatibility check. Excluding it from installation.
info fsevents@2.1.3: The platform "win32" is incompatible with this module.
info "fsevents@2.1.3" is an optional dependency and failed compatibility check. Excluding it from installation.
[3/4] Linking dependencies...
warning " > babel-core@7.0.0-bridge.0" has unmet peer dependency "@babel/core@^7.0.0-0".
warning " > ant-design-vue@1.6.2" has unmet peer dependency "vue@>=2.6.0".
warning "ant-design-vue > @ant-design/icons-vue@2.0.0" has unmet peer dependency "vue@>=2.5.0".
warning " > cache-loader@4.1.0" has unmet peer dependency "webpack@^4.0.0".
warning " > element-ui@2.13.2" has unmet peer dependency "vue@^2.5.17".
warning " > viser-vue@2.4.8" has unmet peer dependency "vue@>=1".
warning " > vue-svg-component-runtime@1.0.1" has unmet peer dependency "vue@>= 2.5.0".
warning " > vuex@3.4.0" has unmet peer dependency "vue@^2.0.0".
warning " > terser-webpack-plugin@1.4.3" has unmet peer dependency "webpack@^4.0.0".
warning "@vue/cli-plugin-unit-jest > vue-jest@3.0.5" has unmet peer dependency "vue@^2.x".
warning " > vue-loader@15.9.2" has unmet peer dependency "webpack@^3.0.0 || ^4.1.0 || ^5.0.0-0".
warning " > @vue/test-utils@1.0.3" has unmet peer dependency "vue@2.x".
warning " > babel-loader@7.1.5" has incorrect peer dependency "babel-core@6".
warning " > babel-loader@7.1.5" has unmet peer dependency "webpack@2 || 3 || 4".
warning " > eslint-loader@1.9.0" has incorrect peer dependency "eslint@>=1.6.0 <5.0.0".
warning " > extract-text-webpack-plugin@3.0.2" has unmet peer dependency "webpack@^3.1.0".
warning " > babel-loader@7.1.5" has incorrect peependency "webpack@^2.0.0 || ^3.0.0 || ^4.0.0".warning " > babel-loader@7.1.5" has unmet peer d" has unmet peer dependency "webpack@^2.0.0 || ^3.0.0 || ^4.0.0"warning " > eslint-loader@1.9.0" has incorrect pt peer dependency "webpack@1 || ^2 || ^2.1.0-beta || ^2.2.0-rc |warning " > extract-text-webpack-plugin@3.0.2" hpendency "webpack@^2.0.0 || ^3.0.0 || ^4.0.0".warning " > file-loader@1.1.11" has unmet peer d
warning " > friendly-errors-webpack-plugin@1.7.0
warning " > html-webpack-plugin@2.30.1" has unme
warning " > less-loader@4.1.0" has unmet peer de
warning " > rollup-plugin-babel@3.0.7" has incor
warning " > rollup-plugin-vue@3.0.0" has unmet p
warning "rollup-plugin-vue > vue-template-valida
warning " > sass-loader@7.3.1" has unmet peer de
warning " > uglifyjs-webpack-plugin@1.3.0" has u
warning " > vue-svg-icon-loader@2.1.1" has unmet
warning "vue-svg-icon-loader > vue-svg-component
warning " > webpack-dev-server@2.11.5" has unmet
warning "webpack-dev-server > webpack-dev-middle
[4/4] Building fresh packages...
success Saved 1 new dependency.
info Direct dependencies
└─ ht-workflow-bpmn-modeler@0.2.53
info All dependencies
└─ ht-workflow-bpmn-modeler@0.2.53
$ opencollective-postinstall
Thank you for using vue-antd-pro!
If you rely on this package, please consider sup
> https://opencollective.com/ant-design-pro-vue/

Done in 12.40s.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>主要还是使用yarn进行拉取和推送，npm publish时存在无法推送的问题！</p>
<p>如果执行yarn publish的时候，还是出现无法推送的情况，包括出现在yarn install时出现401错误的时候，尝试删除”.npmrc”文件中的<em>_authToken</em>所在行，重新执行“npm login”命令。</p>
<h2 id="番外篇：关于Dockerfile的重写"><a href="#番外篇：关于Dockerfile的重写" class="headerlink" title="番外篇：关于Dockerfile的重写"></a>番外篇：关于Dockerfile的重写</h2><pre class="line-numbers language-Dockerfile"><code class="language-Dockerfile">
# 第一层面构建，打包前端代码
#### 1. 指定node镜像版本
FROM node:10.16.0 AS builder

# 添加日期信息，如果需要更新所有缓存层，更新该处日期信息即可
ENV REFRESH_DATE 2020-12-02_11:11

# 2. 指定编译的工作空间
WORKDIR /home/node/app

# 3. 设置授权信息，本地开发机登录后获取私有镜像的authToken信息，放入.npmrc
# NpmToken一行可以通过本地的机器使用npm login命令进行获取
RUN touch /home/node/app/.npmrc && mkdir /home/node/app/node_global && mkdir /home/node/app/node_cache && echo "registry=http://192.168.123.202:8081/repository/npm-group/ \n\ 
//192.168.123.202:8081/repository/npm-group/:_authToken=NpmToken.a36e083f-d4b8-3e73-a98e-9dc1e5f61ccd \n\
sass_binary_site=https://npm.taobao.org/mirrors/node-sass \n\
always-auth=true \n\
strict-ssl=false" >> /home/node/app/.npmrc

RUN touch /home/node/app/.yarnrc && echo "registry \"http://192.168.123.202:8081/repository/npm-group/\" \n\
email lisongyang@hoteamsoft.com \n\
lastUpdateCheck 1606979147039 \n\
\"registry=http://192.168.123.202:8081/repository/npm-group/\" true \n\
sass_binary_site \"http://cdn.npm.taobao.org/dist/node-sass\" \n\
username npm-user" >> /home/node/app/.yarnrc

# 4. 安装打包需要的yarn工具
RUN npm install -g yarn
# 对yarn设置淘宝镜像
#RUN yarn config set registry http://192.168.123.202:8081/repository/npm-group/
#RUN yarn config set disturl https://npm.taobao.org/dist

# 5. 添加package.json
COPY package.json /home/node/app/

# 6. 安装依赖信息
RUN yarn install --verbose

# 7. 添加剩余代码到工作空间
COPY . /home/node/app
# 8. 编译代码
RUN yarn run build

# 第二层面构建
#### 1.拉取自定义镜像名称
FROM 192.168.123.202:5000/base_frontend:0.0.1

# 2.将打包后的代码复制到运行位置
COPY --from=builder /home/node/app/dist /var/www

# 3.启动nginx
ENTRYPOINT ["nginx","-g","daemon off;"]

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其重点在于，.npmrc文件需要添加</p>
<pre><code>always-auth=true 
strict-ssl=false
</code></pre><p>yarn在执行install命令的时候才能正常使用。</p>

            </div>
            <hr />

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">写作不易，客官能否打赏一杯奶茶？</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《前端私服搭建及验证》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/12/28/qian-duan-si-fu-da-jian-ji-yan-zheng/" property="cc:attributionName"
               rel="cc:attributionURL">
                JamesLiAndroid
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/12/28/springboot-chai-fen-yi-lai-gou-jian-wei-fu-wu-fang-an/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="Springboot拆分依赖构建微服务方案">
                        
                        <span class="card-title">Springboot拆分依赖构建微服务方案</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Springboot拆分打包并进行构建的调整（调整图片）前言目前在Springboot微服务中，在构建时进行打包的流程中，具体的产物为fat jar，也就是将所有的依赖信息以及业务代码全部打包为一个jar包，这样不仅在构建速度上拖慢，而且每
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-12-28
                        </span>
                        <span class="publish-author">
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/12/27/12-yue-fen-ji-nan-mai-che-zhi-nan/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="12月份济南买车指南">
                        
                        <span class="card-title">12月份济南买车指南</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            12月份济南买车指南前言今年因为疫情的原因，感觉到12月份的时候，车市进行了好几拨车展以及优惠活动，以此为契机做了个小型调查。主要参与的是我的两位同学，zh先生和lin先生。以12月初的舜耕车展加上经十东路、匡山一带、北园大街一带的4s店为
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-12-27
                            </span>
                        <span class="publish-author">
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 时代与猫的脚步<br />'
            + '作者: JamesLiAndroid<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。感谢您的支持。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2019 WeiYang. All Rights Reserved.
            <a href="http://www.beian.miit.gov.cn">鲁ICP备17011350号</a>
            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">304k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/JamesLiAndroid" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:lsy1234567@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="https://zhihu.com/people/li-tian-90-66" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-inverse">知</i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 80000;
        var uvcountOffset = 20000;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2020, 01, 28, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->



    
    <script src="/libs/others/clicklove.js"></script>
    

    

    <!-- 雪花特效 -->
    

</body>

</html>